(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{193:function(e,t,n){},345:function(e,t,n){},347:function(e,t,n){},349:function(e,t,n){},380:function(e,t,n){"use strict";n.r(t);var s,c=n(0),a=n(68),r=n.n(a),i=(n(193),n(188)),o=n(187),u=(n(345),n(3)),d=function(e){var t=e.messages,n=e.userNo,s="";return Object(u.jsxs)(o.a,{className:"messages",children:[Object(u.jsx)("div",{className:"padding"}),t.map((function(e,t){var c=e.message,a=e.user_no,r=e.time,i=e.date;return Object(u.jsxs)("div",{children:[i!==s?Object(u.jsx)("p",{className:"date",children:i}):null,Object(u.jsx)("div",{style:{display:"none"},children:i!==s?s=i:null}),Object(u.jsx)("div",{className:"message",style:{alignItems:a===n?"flex-end":"flex-start"},children:Object(u.jsxs)("div",{style:{background:a===n?"":"#b228f9"},children:[c,Object(u.jsx)("p",{className:"time",children:r})]})})]},t)})),Object(u.jsx)("div",{className:"padding"})]})},l=n.p+"static/media/Send.d059ed7e.svg",j=(n(347),n(26)),m=function(e,t){return{type:"STORE MESSAGE",payload:{message:e,user_no:t}}},f=function(e){var t=e.user_no,n=Object(j.c)((function(e){return e.allMessages})),s=Object(j.b)(),a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],f=r[1];return Object(c.useEffect)((function(){var e;return document.getElementById("msg".concat(t)).addEventListener("keyup",e=function(e){13===e.keyCode&&!o.replace(/\s/g,"").length<=0&&(s(m(o,t)),f(""),document.getElementById("msg".concat(t)).focus())}),function(){document.getElementById("msg".concat(t)).removeEventListener("keyup",e)}})),Object(u.jsxs)("div",{className:"chatbox",children:[Object(u.jsx)("section",{children:"User ".concat(t)}),Object(u.jsx)(d,{messages:n,userNo:t}),Object(u.jsxs)("div",{className:"input-area",children:[Object(u.jsx)("input",{type:"text",value:o,placeholder:"Type...",id:"msg".concat(t),autoComplete:"off",onChange:function(e){f(e.target.value)}}),Object(u.jsx)("div",{onClick:function(e){!o.replace(/\s/g,"").length<=0&&(s(m(o,t)),f(""),document.getElementById("msg".concat(t)).focus())},id:"sendMsg",children:Object(u.jsx)("img",{src:l,alt:""})})]})]})},g=(n(349),n(186)),O=n.n(g);var b=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.newMessage})),n=t.message,a=t.user_no;return Object(c.useEffect)((function(){return s=O()("https://react-chat-app-assignment.herokuapp.com/"),function(){s.off()}}),[]),Object(c.useEffect)((function(){return s.on("recieve-msg",(function(t){e({type:"STORE MESSAGES",payload:t})})),!n.replace(/\s/g,"").length<=0&&s.emit("send-msg",n,a),function(){s.off()}})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"app-title",children:"React Chat App"}),Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsx)(f,{user_no:1}),Object(u.jsx)(f,{user_no:2})]})]})},p=n(109),h=Object(p.a)({newMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE MESSAGE":return t.payload;default:return e}},allMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE MESSAGES":return t.payload;default:return e}}}),v=Object(p.b)(h,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(u.jsx)(j.a,{store:v,children:Object(u.jsx)(b,{})}),document.getElementById("root"))}},[[380,1,2]]]);
//# sourceMappingURL=main.cc1cc001.chunk.js.map